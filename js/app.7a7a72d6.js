(function(t){function e(e){for(var r,i,o=e[0],c=e[1],u=e[2],f=0,d=[];f<o.length;f++)i=o[f],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&d.push(s[i][0]),s[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);l&&l(e);while(d.length)d.shift()();return n.push.apply(n,u||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],r=!0,o=1;o<a.length;o++){var c=a[o];0!==s[c]&&(r=!1)}r&&(n.splice(e--,1),t=i(i.s=a[0]))}return t}var r={},s={app:0},n=[];function i(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=r,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(a,r,function(e){return t[e]}.bind(null,r));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/wochenplan/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("cd49")},"22cb":function(t,e,a){"use strict";var r=a("8eb4"),s=a.n(r);s.a},3101:function(t,e,a){"use strict";var r=a("c2af"),s=a.n(r);s.a},"4d12":function(t,e,a){},"58f6":function(t,e,a){},"5c0b":function(t,e,a){"use strict";var r=a("9c0c"),s=a.n(r);s.a},"64f6":function(t,e,a){},"81f5":function(t,e,a){"use strict";var r=a("58f6"),s=a.n(r);s.a},"8eb4":function(t,e,a){},"9b94":function(t,e,a){},"9c0c":function(t,e,a){},a254:function(t,e,a){"use strict";var r=a("64f6"),s=a.n(r);s.a},a4e1:function(t,e,a){"use strict";var r=a("4d12"),s=a.n(r);s.a},a8eb:function(t,e,a){"use strict";var r=a("9b94"),s=a.n(r);s.a},c2af:function(t,e,a){},cd49:function(t,e,a){"use strict";a.r(e);a("4de4"),a("d3b7"),a("25f0"),a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),s=a("0086"),n=a.n(s),i=a("c28b"),o=a.n(i),c=a("5a0c"),u=a.n(c),l=a("2a04"),f=a.n(l),d=a("6210"),h=a.n(d),p=a("ecee"),v=a("c074"),m=a("b702"),y=a("f2d1"),b=a("ad3d"),O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{attrs:{id:"app"}},[a("navigation"),a("schedule")],1)},g=[],D=(a("a4d3"),a("e439"),a("dbb4"),a("b64b"),a("e25e"),a("ac1f"),a("2ca0"),a("159b"),a("ade3")),w=a("2f62"),j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"navbar navbar is-fixed-top",attrs:{id:"navigation"}},[a("div",{staticClass:"navbar-menu"},[a("div",{staticClass:"navbar-start"},[a("a",{directives:[{name:"show",rawName:"v-show",value:t.hasPreviousDate,expression:"hasPreviousDate"}],staticClass:"navbar-item is-square",attrs:{href:t._f("date")(t.previousDate)},on:{click:function(e){return e.preventDefault(),t.selectDate(t.previousDate)}}},[a("fa",{attrs:{icon:["fas","angle-left"],size:"2x"}})],1),a("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeDatePicker,expression:"closeDatePicker"}],staticClass:"navbar-item has-dropdown",class:t.datePickerMenuClass},[a("a",{staticClass:"navbar-link",on:{click:t.toggleDatePicker}},[t._v(t._s(t._f("year")(t.currentDate))+" KW "+t._s(t._f("week")(t.currentDate)))]),a("div",{staticClass:"navbar-dropdown"},[a("div",{staticClass:"navbar-item"},[a("date-picker",{attrs:{"is-open":t.isDatePickerOpen},on:{close:t.closeDatePicker}})],1)])]),a("a",{staticClass:"navbar-item",attrs:{href:"/"}},[t._v("BeansHub")])]),a("div",{staticClass:"navbar-end"},[a("a",{staticClass:"navbar-item is-right"},[a("fa",{attrs:{icon:["fas",t.isCompressed?"compress":"expand"],size:"2x"},on:{click:t.toggleCompressed}})],1),a("a",{directives:[{name:"show",rawName:"v-show",value:t.hasNextDate,expression:"hasNextDate"}],staticClass:"navbar-item is-square is-right",attrs:{href:t._f("date")(t.nextDate)},on:{click:function(e){return e.preventDefault(),t.selectDate(t.nextDate)}}},[a("fa",{attrs:{icon:["fas","angle-right"],size:"2x"}})],1)])])])},x=[],P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"date-picker",attrs:{id:"date-picker"}},[a("div",{staticClass:"field is-grouped"},[a("div",{staticClass:"control"},[a("button",{directives:[{name:"show",rawName:"v-show",value:t.hasPreviousMonth,expression:"hasPreviousMonth"}],staticClass:"button is-compact is-text",on:{click:t.setToPreviousMonth}},[a("fa",{attrs:{icon:["fas","angle-left"],size:"lg"}})],1)]),a("div",{staticClass:"control"},[a("div",{staticClass:"select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.month,expression:"month"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.month=e.target.multiple?a:a[0]}}},t._l(t.months,(function(e){return a("option",{key:e,domProps:{value:e}},[t._v(t._s(t._f("month")(e)))])})),0)])]),a("div",{staticClass:"control"},[a("div",{staticClass:"select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.year,expression:"year"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.year=e.target.multiple?a:a[0]}}},t._l(t.years,(function(e){return a("option",{key:e,domProps:{value:e}},[t._v(t._s(e))])})),0)])]),a("div",{staticClass:"control"},[a("button",{directives:[{name:"show",rawName:"v-show",value:t.hasNextMonth,expression:"hasNextMonth"}],staticClass:"button is-compact is-text",on:{click:t.setToNextMonth}},[a("fa",{attrs:{icon:["fas","angle-right"],size:"lg"}})],1)])]),a("div",{staticClass:"calendar field is-grouped is-grouped-multiline",on:{click:t.selectDay}},[a("span",{staticClass:"button is-compact is-static"},[t._v("Mo")]),a("span",{staticClass:"button is-compact is-static"},[t._v("Di")]),a("span",{staticClass:"button is-compact is-static"},[t._v("Mi")]),a("span",{staticClass:"button is-compact is-static"},[t._v("Do")]),a("span",{staticClass:"button is-compact is-static"},[t._v("Fr")]),a("span",{staticClass:"button is-compact is-static"},[t._v("Sa")]),a("span",{staticClass:"button is-compact is-static"},[t._v("So")]),t._l(t.days,(function(e,r){return a("a",{key:r,staticClass:"button is-compact",class:t.dayClass(e,t.day),attrs:{"data-day":e}},[t._v(" "+t._s(t._f("day")(e))+" ")])}))],2),a("div",{staticClass:"field"}),a("div",{staticClass:"field"},[a("div",{staticClass:"control"},[a("button",{staticClass:"button is-fullwidth",attrs:{disabled:!t.isValid},on:{click:t.confirmSelection}},[t._v("Auswahl bestätigen")])])]),a("div",{staticClass:"field"},[a("div",{staticClass:"control"},[a("button",{staticClass:"button is-text is-fullwidth",on:{click:t.selectToday}},[t._v("Heute auswählen")])])])])},C=[];a("4d90");function _(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function S(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?_(Object(a),!0).forEach((function(e){Object(D["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):_(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var k=r["a"].extend({name:"date-picker",data:function(){return{year:0,month:0,day:0}},created:function(){this.reset()},computed:S({years:function(){for(var t=[],e=u()(this.firstDate).year(),a=u()(this.lastDate).year(),r=a;r>=e;r--)t.push(r);return t},months:function(){if(!this.year)return[];for(var t=[],e=1;e<=12;e++){var a=new Date(this.year,e-1,1).valueOf();a>=this.firstDate&&a<=this.lastDate&&t.push(e)}return t},days:function(){if(!this.month)return[];for(var t=[],e=new Date(this.year,this.month-1,1).valueOf(),a=u()(e).daysInMonth(),r=(u()(e).day()||7)-1,s=0;s<r;s++)t.push(0);for(var n=1;n<=a;n++){var i=new Date(this.year,this.month-1,n).valueOf();i>=this.firstDate&&i<=this.lastDate&&t.push(n)}for(var o=7-t.length%7,c=0;c<o;c++)t.push(0);return t},date:function(){return new Date(this.year,this.month-1,this.day).valueOf()},isValid:function(){return u()(this.date).isValid()&&this.date>=this.firstDate&&this.date<=this.lastDate},hasNextMonth:function(){return this.lastDate>=u()(this.date).add(1,"month").startOf("month").valueOf()},hasPreviousMonth:function(){return this.firstDate<=u()(this.date).subtract(1,"month").startOf("month").valueOf()}},Object(w["e"])(["firstDate","lastDate","currentDate"])),watch:{currentDate:function(){this.reset()}},methods:S({reset:function(){this.setDate(this.currentDate)},setDate:function(t){var e=u()(t);this.year=e.year(),this.month=e.month()+1,this.day=e.date()},setToNextMonth:function(){this.setDate(u()(this.date).add(1,"month").valueOf())},setToPreviousMonth:function(){this.setDate(u()(this.date).subtract(1,"month").valueOf())},dayClass:function(t,e){return t?t==e?"is-active":"":"is-static"},selectDay:function(t){var e=t.target;e&&e.dataset.day&&(this.day=parseInt(e.dataset.day))},confirmSelection:function(){this.selectDate(this.date),this.close()},selectToday:function(){this.selectDate(),this.close()},close:function(){this.$emit("close")}},Object(w["b"])(["selectDate"])),filters:{month:function(t){return h.a.months?h.a.months[t-1]:""},day:function(t){return t?t.toString().padStart(2,"0"):""}}}),M=k,T=(a("22cb"),a("2877")),I=Object(T["a"])(M,P,C,!1,null,null,null),E=I.exports;function G(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function N(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?G(Object(a),!0).forEach((function(e){Object(D["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):G(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var H=r["a"].extend({name:"navigation",data:function(){return{isDatePickerOpen:!1}},computed:N({datePickerMenuClass:function(){return this.isDatePickerOpen?"is-active":""}},Object(w["e"])(["currentDate","isCompressed"]),{},Object(w["c"])(["previousDate","nextDate","hasPreviousDate","hasNextDate"])),methods:N({toggleDatePicker:function(){this.isDatePickerOpen=!this.isDatePickerOpen},closeDatePicker:function(){this.isDatePickerOpen&&(this.isDatePickerOpen=!1)},toggleCompressed:function(){this.setCompressed(!this.isCompressed)}},Object(w["d"])(["setCompressed"]),{},Object(w["b"])(["selectDate"])),components:{DatePicker:E}}),W=H,$=(a("a4e1"),Object(T["a"])(W,j,x,!1,null,null,null)),V=$.exports,Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"touch",rawName:"v-touch:swipe.left",value:t.swipeLeft,expression:"swipeLeft",arg:"swipe",modifiers:{left:!0}},{name:"touch",rawName:"v-touch:swipe.right",value:t.swipeRight,expression:"swipeRight",arg:"swipe",modifiers:{right:!0}}],staticClass:"schedule",class:t.elementClass,attrs:{id:"schedule"}},[a("div",{staticClass:"columns is-mobile is-marginless"},t._l(t.days,(function(t){return a("schedule-day",{key:t.date,attrs:{day:t}})})),1)])},A=[],R=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"day column"},[a("div",{staticClass:"head",style:t.headStyle},[a("div",{staticClass:"is-uppercase is-size-5 has-text-white has-text-weight-bold"},[t._v(t._s(t._f("dayOfWeek")(t.day.date)))]),a("a",{attrs:{href:t._f("date")(t.day.date)},on:{click:function(e){return e.preventDefault(),t.selectDate(t.day.date)}}},[t._v(t._s(t._f("date")(t.day.date)))])]),a("div",{staticStyle:{position:"fixed",height:"20px",background:"#000"}}),a("div",{staticClass:"slots"},t._l(t.day.slotGroups,(function(e){return a("schedule-slot-group",{key:e.time,attrs:{value:{slotGroup:e,day:t.day}}})})),1)])},z=[],L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"slot-group",style:t.elementStyle},t._l(t.slotGroup.slots,(function(e){return a("schedule-slot",{key:t.day.date+"-"+e.id,attrs:{value:{slot:e,slotGroup:t.slotGroup,day:t.day}}})})),1)},B=[],J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"slot",class:t.elementClass,style:t.elementStyle},[a("div",[a("span",[t._v(t._s(t._f("time")(t.slot.timeStart)))]),a("span",{staticClass:"is-size-7"},[t._v(" "),a("fa",{attrs:{icon:["far","clock"]}}),t._v(" "+t._s(t._f("duration")(t.slot.duration))+" ")],1),t.videoUrl?a("a",{staticClass:"has-text-grey",attrs:{href:t.videoUrl,target:"_blank",rel:"noopener noreferrer"}},[a("fa",{attrs:{icon:["fab","youtube"]}})],1):t._e()]),a("div",[a("span",{staticClass:"has-text-grey-lighter"},[t._v(t._s(t.slot.title))]),t.slot.topic?a("span",{staticClass:"has-text-grey"},[t._v(" | "+t._s(t.slot.topic))]):t._e()]),t.slot===t.activeSlot?a("progress",{staticClass:"progress is-warning has-background-black",attrs:{max:"100"},domProps:{value:t.progress}},[t._v(" "+t._s(t.progress)+"% ")]):t._e()])},U=[];function q(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function F(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?q(Object(a),!0).forEach((function(e){Object(D["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):q(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var K=0,Q=r["a"].extend({name:"schedule-slot",props:["value"],data:function(){return{top:0,height:0}},created:function(){this.isActive&&this.limitScroll()},mounted:function(){this.updateBounds()},computed:F({slot:function(){return this.value.slot},slotGroup:function(){return this.value.slotGroup},day:function(){return this.value.day},isActive:function(){return this.activeSlot&&this.activeDay&&this.slot.id==this.activeSlot.id&&this.day.date==this.activeDay.date},elementClass:function(){var t=["is-"+this.slot.type];return this.isActive&&t.push("is-active"),t},elementStyle:function(){return{flexGrow:this.weight}},weight:function(){return this.slot.duration/this.slotGroup.duration},videoUrl:function(){if(this.slot.episodeId)return"https://rocketbeans.tv/mediathek/video/"+this.slot.episodeId;var t=u()(this.slot.timeStart).valueOf();return t<this.realTime&&t>=u()(this.realTime).subtract(12,"hour").valueOf()?"https://beanshub.de/player/?video="+this.streamId+"&time="+Math.ceil(t/1e3):""},progress:function(){if(this.activeSlot){var t=u()(this.activeSlot.timeStart).valueOf(),e=u()(this.activeSlot.timeEnd).valueOf();return Math.floor((this.realTime-t)/(e-t)*100)}return 0}},Object(w["e"])(["realTime","streamId","heights"]),{},Object(w["c"])(["activeDay","activeSlot"])),watch:{top:function(){this.isActive&&this.scroll()},heights:function(){var t=this;this.$nextTick((function(){return t.updateBounds()}))}},methods:{updateBounds:function(){var t=this.$el;if(t){var e=t.getBoundingClientRect();this.top=Math.floor(e.top+window.pageYOffset),this.height=Math.floor(e.height)}},scroll:function(){K&&(window.scrollTo(0,this.top-(window.innerHeight-this.height)/2),this.limitScroll())},limitScroll:function(){clearTimeout(K),K=setTimeout((function(){return K=0}),1e3)}}}),X=Q,Z=(a("a254"),Object(T["a"])(X,J,U,!1,null,null,null)),tt=Z.exports;function et(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function at(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?et(Object(a),!0).forEach((function(e){Object(D["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):et(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var rt=r["a"].extend({name:"schedule-slot-group",props:["value"],mounted:function(){this.resetHeight()},computed:at({slotGroup:function(){return this.value.slotGroup},day:function(){return this.value.day},minHeight:function(){var t=0;if(this.hasMultipleDays)for(var e=this.slotGroup.firstIndex;e<=this.slotGroup.lastIndex;e++)t+=this.heights[e];return t},elementStyle:function(){return{minHeight:this.minHeight+"px"}}},Object(w["e"])(["viewWidth","heights"]),{},Object(w["c"])(["hasMultipleDays"])),watch:{viewWidth:function(){this.resetHeight()},slotGroup:function(){this.resetHeight()}},methods:at({resetHeight:function(){if(this.hasMultipleDays){for(var t=this.slotGroup.firstIndex;t<=this.slotGroup.lastIndex;t++)this.heights[t]>0&&this.setHeight({index:t,value:0});this.$nextTick(this.updateHeight)}},updateHeight:function(){var t=this.$el;if(this.hasMultipleDays&&t){var e=t.offsetHeight;if(e>this.minHeight){for(var a=this.slotGroup.firstIndex;a<this.slotGroup.lastIndex;a++)e-=this.heights[a];this.setHeight({index:this.slotGroup.lastIndex,value:e})}}}},Object(w["d"])(["setHeight"])),components:{ScheduleSlot:tt}}),st=rt,nt=(a("81f5"),Object(T["a"])(st,L,B,!1,null,null,null)),it=nt.exports;function ot(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function ct(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ot(Object(a),!0).forEach((function(e){Object(D["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ot(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var ut=r["a"].extend({name:"schedule-day",props:["day"],data:function(){return{width:0}},mounted:function(){this.updateWidth()},computed:ct({headStyle:function(){return{width:this.width+"px"}}},Object(w["e"])(["viewWidth"])),watch:{viewWidth:function(){this.updateWidth()}},methods:ct({updateWidth:function(){var t=this.$el;t&&(this.width=t.offsetWidth)}},Object(w["b"])(["selectDate"])),components:{ScheduleSlotGroup:it}}),lt=ut,ft=(a("a8eb"),Object(T["a"])(lt,R,z,!1,null,null,null)),dt=ft.exports;function ht(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function pt(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ht(Object(a),!0).forEach((function(e){Object(D["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ht(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var vt=r["a"].extend({name:"schedule",computed:pt({elementClass:function(){return this.hasMultipleDays?"has-multiple":"has-single"}},Object(w["e"])(["days"]),{},Object(w["c"])(["hasMultipleDays","previousDate","nextDate"])),methods:pt({swipeLeft:function(){this.selectDate(this.nextDate)},swipeRight:function(){this.selectDate(this.previousDate)}},Object(w["b"])(["selectDate"])),components:{ScheduleDay:dt}}),mt=vt,yt=(a("3101"),Object(T["a"])(mt,Y,A,!1,null,null,null)),bt=yt.exports;function Ot(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function gt(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Ot(Object(a),!0).forEach((function(e){Object(D["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Ot(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var Dt=r["a"].extend({name:"app",created:function(){var t=this;this.updateRealTime(),this.updateViewWidth(),this.setCompressed("true"==localStorage.getItem("wp_config_compressed")),setInterval(this.updateRealTime,5e3),window.addEventListener("resize",this.updateViewWidth,{passive:!0}),window.addEventListener("popstate",(function(e){return t.setCurrentDate(e.state)}),{passive:!0}),window.addEventListener("dragstart",(function(t){return t.preventDefault()}),!0),this.updateMeta(),this.setCurrentDate(this.getDefaultDate())},computed:gt({},Object(w["e"])(["isCompressed"]),{},Object(w["c"])(["realDate","dates","activeSlot"])),watch:{realDate:function(t){this.setCurrentDate(t)},dates:function(t){this.updateDays(t)},isCompressed:function(t){localStorage.setItem("wp_config_compressed",t?"true":"false"),this.updateDays(this.dates)}},methods:gt({getDefaultDate:function(){var t=location.href,e=document.getElementsByTagName("base")[0].href;if(t.startsWith(e)){var a=t.substring(e.length),r=/^([0-9]+)\.([0-9]+)\.([0-9]+)$/i.exec(a);if(r)return new Date(parseInt(r[3]),parseInt(r[2])-1,parseInt(r[1])).valueOf()}return this.realDate}},Object(w["d"])(["updateRealTime","setCurrentDate","setCompressed"]),{},Object(w["b"])(["updateViewWidth","updateMeta","updateDays"])),components:{Navigation:V,Schedule:bt}}),wt=Dt,jt=(a("5c0b"),Object(T["a"])(wt,O,g,!1,null,null,null)),xt=jt.exports,Pt=(a("e01a"),a("d28b"),a("cb29"),a("d81d"),a("a434"),a("3ca3"),a("ddb0"),a("96cf"),a("1da1")),Ct=a("d4ec"),_t=a("bee2"),St=a("bc3a"),kt=a.n(St),Mt=function(){function t(e){Object(Ct["a"])(this,t),this.timeout=6e4,this.storage=e,this.busy={}}return Object(_t["a"])(t,[{key:"getValues",value:function(t,e){var a=this;return Promise.all(t.map((function(t){return a.loadAsync(t)}))).then((function(t){t.some((function(t){return t}))&&e()})),t.map((function(t){return a.getItem(t).value}))}},{key:"getValue",value:function(t,e){return this.loadAsync(t).then((function(t){t&&e()})),this.getItem(t).value}},{key:"loadAsync",value:function(){var t=Object(Pt["a"])(regeneratorRuntime.mark((function t(e){var a,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.busy[e]){t.next=2;break}return t.abrupt("return",!1);case 2:if(this.busy[e]=!0,a=!1,r=this.getItem(e),r.etag&&!(Date.now()>=r.timestamp+this.timeout)){t.next=12;break}return t.next=8,kt.a.get(e,{baseURL:"/data/schedule/",headers:this.getHeaders(r.etag),validateStatus:function(){return!0}});case 8:s=t.sent,200==s.status&&(a=JSON.stringify(s.data)!=JSON.stringify(r.value),r.value=s.data,r.etag=s.headers.etag||""),r.timestamp=Date.now(),this.setItem(e,r);case 12:return this.busy[e]=!1,t.abrupt("return",a);case 14:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"getItem",value:function(t){var e=this.storage.getItem("wp_cache_"+t);return e?JSON.parse(e):{value:null,etag:"",timestamp:0}}},{key:"setItem",value:function(t,e){this.storage.setItem("wp_cache_"+t,JSON.stringify(e))}},{key:"getHeaders",value:function(t){return t?{"If-None-Match":t}:{}}}]),t}(),Tt=new Mt(sessionStorage);new Mt(localStorage);r["a"].use(w["a"]);var It=0,Et=new w["a"].Store({state:{realTime:0,viewWidth:0,streamId:"",firstDate:0,lastDate:0,currentDate:0,days:new Array,heights:new Array(3).fill(0),isCompressed:!1},getters:{dayCount:function(t){return Math.min(Math.floor(t.viewWidth/240),7)},hasMultipleDays:function(t,e){return e.dayCount>1},realDate:function(t){return u()(t.realTime).startOf("day").valueOf()},startDate:function(t,e){var a=8-(u()(t.currentDate).day()||7);return a>=e.dayCount?t.currentDate:u()(t.currentDate).subtract(e.dayCount-a,"day").valueOf()},previousDate:function(t,e){return u()(e.startDate).subtract(e.dayCount,"day").valueOf()},nextDate:function(t,e){return u()(e.startDate).add(e.dayCount,"day").valueOf()},hasPreviousDate:function(t,e){return t.firstDate>0&&e.nextDate>=t.firstDate},hasNextDate:function(t,e){return t.lastDate>0&&e.nextDate<=t.lastDate},dates:function(t,e){for(var a=[],r=u()(e.startDate),s=0;s<e.dayCount;s++){var n=r.add(s,"day").valueOf();n>=t.firstDate&&n<=t.lastDate&&a.push(n)}return a},activeDay:function(t){var e=!0,a=!1,r=void 0;try{for(var s,n=t.days[Symbol.iterator]();!(e=(s=n.next()).done);e=!0){var i=s.value;if(i.date<=t.realTime&&i.nextDate>t.realTime)return i}}catch(o){a=!0,r=o}finally{try{e||null==n.return||n.return()}finally{if(a)throw r}}return null},activeSlotGroup:function(t,e){if(e.activeDay){var a=!0,r=!1,s=void 0;try{for(var n,i=e.activeDay.slotGroups[Symbol.iterator]();!(a=(n=i.next()).done);a=!0){var o=n.value;if(o.time<=t.realTime&&o.nextTime>t.realTime)return o}}catch(c){r=!0,s=c}finally{try{a||null==i.return||i.return()}finally{if(r)throw s}}}return null},activeSlot:function(t,e){if(e.activeSlotGroup){var a=!0,r=!1,s=void 0;try{for(var n,i=e.activeSlotGroup.slots[Symbol.iterator]();!(a=(n=i.next()).done);a=!0){var o=n.value;if(u()(o.timeStart).valueOf()<=t.realTime&&u()(o.timeEnd).valueOf()>t.realTime)return o}}catch(c){r=!0,s=c}finally{try{a||null==i.return||i.return()}finally{if(r)throw s}}}return null}},mutations:{updateRealTime:function(t){t.realTime=Date.now()},setViewWidth:function(t,e){t.viewWidth=e},setCurrentDate:function(t,e){t.currentDate=e},setMeta:function(t,e){t.streamId=e.youtubeStreamId,t.firstDate=u()(e.firstDate).valueOf(),t.lastDate=u()(e.lastDate).valueOf()},setDays:function(t,e){t.days=e},setHeight:function(t,e){var a=e.index,r=e.value;t.heights.splice(a,1,r)},setCompressed:function(t,e){t.isCompressed=e}},actions:{updateViewWidth:function(t){var e=t.commit;e("setViewWidth",window.innerWidth)},selectDate:function(t,e){var a=t.commit,r=t.state,s=t.getters,n=e?u()(e).format("DD.MM.YYYY"):"./";e=e||s.realDate,e>=r.firstDate&&e<=r.lastDate&&(history.pushState(e,document.title,n),document.activeElement instanceof HTMLElement&&document.activeElement.blur(),a("setCurrentDate",e))},updateMeta:function(t){var e=t.commit,a=t.dispatch,r=t.getters;clearTimeout(It);var s=Tt.getValue("meta.json",(function(){return a("updateMeta")}));s&&(e("setMeta",s),a("updateDays",r.dates)),It=setTimeout((function(){return a("updateMeta")}),6e4)},updateDays:function(t){var e=t.commit,a=t.dispatch,r=t.state,s=t.getters,n=s.dates,i=n.map((function(t){return"slots/"+u()(t).format("YYYY/MM/DD")+".json"})),o=Tt.getValues(i,(function(){return a("updateDays",n)})).map((function(t,e){if(!t)return[];var a=n[e],s=u()(a).add(1,"day").valueOf(),i=[u()(a).hour(10).minute(30),u()(a).hour(20)],o=i.map((function(t){return[t.valueOf(),t.add(1,"hour").valueOf()]})),c={date:a,nextDate:u()(a).add(1,"day").valueOf(),slotGroups:[{time:a,nextTime:s,duration:0,firstIndex:0,lastIndex:o.length,slots:[]}]},l=0,f=0,d=null,h=!0,p=!1,v=void 0;try{for(var m,y=t[Symbol.iterator]();!(h=(m=y.next()).done);h=!0){var b=m.value,O=u()(b.timeStart).valueOf();if(r.isCompressed)if("rerun"==b.type){if(d){d.timeEnd=b.timeEnd,d.duration+=b.duration,c.slotGroups[f].duration+=b.duration;continue}d={id:b.id,title:"Wiederholungen",topic:"",game:"",showId:0,episodeId:0,bohnen:[],timeStart:b.timeStart,timeEnd:b.timeEnd,duration:b.duration,durationClass:0,streamExclusive:!1,type:"rerun"},b=d}else d=null;while(o[l]&&O>=o[l][0])O<=o[l][1]?(c.slotGroups[f].nextTime=o[l][0],c.slotGroups[f].lastIndex=l,c.slotGroups.push({time:o[l][0],nextTime:s,duration:0,firstIndex:l+1,lastIndex:o.length,slots:[]}),l++,f++):(c.slotGroups[f].lastIndex=l+1,l++);var g=c.slotGroups[f];g.duration+=b.duration,g.slots.push(b)}}catch(D){p=!0,v=D}finally{try{h||null==y.return||y.return()}finally{if(p)throw v}}return c}));e("setDays",o)}}});u.a.extend(f.a),u.a.locale("de"),p["c"].add(v["a"],v["b"],v["c"],v["d"],m["a"],y["a"]),r["a"].config.productionTip=!1,r["a"].component("fa",b["a"]),r["a"].use(n.a,{swipeTolerance:50}),r["a"].use(o.a),r["a"].filter("year",(function(t){return t?u()(t).year().toString():""})),r["a"].filter("week",(function(t){return t?u()(t).week().toString():""})),r["a"].filter("date",(function(t){return t?u()(t).format("DD.MM.YYYY"):""})),r["a"].filter("dayOfWeek",(function(t){return t?u()(t).format("dddd"):""})),r["a"].filter("time",(function(t){return t?u()(t).format("HH:mm"):""})),r["a"].filter("duration",(function(t){var e=Math.floor(t/3600),a=Math.round(t%3600/60);return(e?e+" h ":"")+a+" min"})),new r["a"]({store:Et,render:function(t){return t(xt)}}).$mount("#app")}});
//# sourceMappingURL=app.7a7a72d6.js.map